{"ast":null,"code":"var _jsxFileName = \"/home/trojann/Documents/Jitu-projects/stackTrial/stacktrial/Frontend/src/Components/TagPage.js\";\nimport styled from \"styled-components\";\nimport Header1 from \"./Header1\";\nimport BlueButton from \"./BlueButton\";\nimport { Component } from 'react';\nimport axios from 'axios';\nimport QuestionRow from \"./QuestionRow\";\nimport { Helmet } from \"react-helmet\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst HeaderRow = styled.div`\n  display: grid;\n  grid-template-columns: 1fr min-content;\n  padding: 30px 20px;\n`;\n_c = HeaderRow;\nclass TagPage extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      following: false,\n      questions: []\n    };\n  }\n  follow() {\n    const data = {\n      tagName: this.props.match.params.name\n    };\n    axios.post('http://localhost:3030/tags/follow', data, {\n      withCredentials: true\n    }).then(() => this.setState({\n      following: true\n    }));\n  }\n  unfollow() {\n    const data = {\n      tagName: this.props.match.params.name\n    };\n    axios.post('http://localhost:3030/tags/unfollow', data, {\n      withCredentials: true\n    }).then(() => this.setState({\n      following: false\n    }));\n  }\n  getQuestions() {\n    axios.get('http://localhost:3030/questions?tagName=' + this.props.match.params.name).then(response => this.setState({\n      questions: response.data\n    }));\n  }\n  getFollowedTags() {\n    this.setState({\n      following: false\n    });\n    axios.get('http://localhost:3030/tags', {\n      withCredentials: true\n    }).then(response => {\n      response.data.forEach(tag => {\n        if (tag.name === this.props.match.params.name && tag.user_id) {\n          this.setState({\n            following: true\n          });\n        }\n      });\n    });\n  }\n  componentDidMount() {\n    this.getQuestions();\n    this.getFollowedTags();\n  }\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    if (prevProps.match.params.name !== this.props.match.params.name) {\n      this.getQuestions();\n      this.getFollowedTags();\n    }\n  }\n  render() {\n    const match = this.props.match;\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Helmet, {\n        children: /*#__PURE__*/_jsxDEV(\"title\", {\n          children: [\"StackOverflowLite - \", match.params.name, \" questions\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(HeaderRow, {\n        children: [/*#__PURE__*/_jsxDEV(Header1, {\n          children: match.params.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this), this.state.following && /*#__PURE__*/_jsxDEV(BlueButton, {\n          onClick: () => this.unfollow(),\n          children: \"UNFollow\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 13\n        }, this), !this.state.following && /*#__PURE__*/_jsxDEV(BlueButton, {\n          onClick: () => this.follow(),\n          children: \"Follow\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n        children: this.state.questions && this.state.questions.length > 0 && this.state.questions.map(question => /*#__PURE__*/_jsxDEV(QuestionRow, {\n          id: question.id,\n          title: question.title,\n          createdAt: question.created_at,\n          tags: question.tags,\n          author: {\n            email: question.email\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true);\n  }\n}\nexport default TagPage;\nvar _c;\n$RefreshReg$(_c, \"HeaderRow\");","map":{"version":3,"names":["styled","Header1","BlueButton","Component","axios","QuestionRow","Helmet","HeaderRow","div","TagPage","constructor","props","state","following","questions","follow","data","tagName","match","params","name","post","withCredentials","then","setState","unfollow","getQuestions","get","response","getFollowedTags","forEach","tag","user_id","componentDidMount","componentDidUpdate","prevProps","prevState","snapshot","render","length","map","question","id","title","created_at","tags","email"],"sources":["/home/trojann/Documents/Jitu-projects/stackTrial/stacktrial/Frontend/src/Components/TagPage.js"],"sourcesContent":["import styled from \"styled-components\";\nimport Header1 from \"./Header1\";\nimport BlueButton from \"./BlueButton\";\nimport {Component} from 'react';\nimport axios from 'axios';\nimport QuestionRow from \"./QuestionRow\";\nimport {Helmet} from \"react-helmet\";\n\nconst HeaderRow = styled.div`\n  display: grid;\n  grid-template-columns: 1fr min-content;\n  padding: 30px 20px;\n`;\n\nclass TagPage extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      following: false,\n      questions: [],\n    };\n  }\n\n  follow() {\n    const data = {tagName: this.props.match.params.name};\n    axios.post('http://localhost:3030/tags/follow', data, {withCredentials: true})\n      .then(() => this.setState({following:true}));\n  }\n\n  unfollow() {\n    const data = {tagName: this.props.match.params.name};\n    axios.post('http://localhost:3030/tags/unfollow', data, {withCredentials: true})\n      .then(() => this.setState({following:false}));\n  }\n\n  getQuestions() {\n    axios.get('http://localhost:3030/questions?tagName='+this.props.match.params.name)\n      .then(response => this.setState({questions:response.data}));\n  }\n\n  getFollowedTags() {\n    this.setState({following:false});\n    axios.get('http://localhost:3030/tags', {withCredentials:true})\n      .then(response => {\n        response.data.forEach(tag => {\n          if (tag.name === this.props.match.params.name && tag.user_id) {\n            this.setState({following:true});\n          }\n        });\n      });\n  }\n\n  componentDidMount() {\n    this.getQuestions();\n    this.getFollowedTags();\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    if(prevProps.match.params.name !== this.props.match.params.name) {\n     this.getQuestions();\n     this.getFollowedTags();\n    }\n  }\n\n  render() {\n    const match = this.props.match;\n    return (\n      <>\n        <Helmet>\n          <title>StackOverflowLite - {match.params.name} questions</title>\n        </Helmet>\n        <HeaderRow>\n          <Header1>{match.params.name}</Header1>\n          {this.state.following && (\n            <BlueButton onClick={() => this.unfollow()}>UNFollow</BlueButton>\n          )}\n          {!this.state.following && (\n            <BlueButton onClick={() => this.follow()}>Follow</BlueButton>\n          )}\n        </HeaderRow>\n        <main>\n          {this.state.questions && this.state.questions.length > 0 && this.state.questions.map(question => (\n            <QuestionRow id={question.id} title={question.title}\n                         createdAt={question.created_at}\n                         tags={question.tags}\n                         author={{email:question.email}} />\n          ))}\n        </main>\n      </>\n    );\n  }\n}\n\nexport default TagPage;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}