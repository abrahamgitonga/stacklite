{"ast":null,"code":"var _jsxFileName = \"/home/trojann/Documents/Jitu-projects/stackTrial/stacktrial/Frontend/src/Components/Button/VotingButtons.js\",\n  _s = $RefreshSig$();\nimport styled from 'styled-components';\nimport PropTypes from 'prop-types';\nimport axios from \"axios\";\nimport { useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ArrowUp = styled.div`\n  width: 0;\n  height: 0;\n  border-left: ${props => props.size === 'sm' ? '10px' : '20px'} solid transparent;\n  border-right: ${props => props.size === 'sm' ? '10px' : '20px'} solid transparent;\n  border-bottom: ${props => props.size === 'sm' ? '10px' : '20px'} solid ${props => props.uservote === 1 ? '#f48024' : '#888'};\n`;\n_c = ArrowUp;\nconst ArrowBottom = styled.div`\n  width: 0;\n  height: 0;\n  border-left: ${props => props.size === 'sm' ? '10px' : '20px'} solid transparent;\n  border-right: ${props => props.size === 'sm' ? '10px' : '20px'} solid transparent;\n  border-top: ${props => props.size === 'sm' ? '10px' : '20px'} solid ${props => props.uservote === -1 ? '#f48024' : '#888'};\n  padding:0;\n`;\n_c2 = ArrowBottom;\nconst ArrowButton = styled.button`\n  border:0;\n  background:none;\n  font-size: 2rem;\n  cursor: pointer;\n  text-align: center;\n  padding:0;\n`;\n_c3 = ArrowButton;\nconst Total = styled.div`\n  text-align: center;\n  width: ${props => props.size === 'sm' ? '20px' : '40px'};\n  padding: ${props => props.size === 'sm' ? '2px 0 3px' : '7px 0 7px'};\n  font-size: ${props => props.size === 'sm' ? '.8rem' : '1.4rem'};\n  line-height: ${props => props.size === 'sm' ? '.6rem' : '1.4rem'};\n  color: #888;\n`;\n_c4 = Total;\nfunction VotingButtons(props) {\n  _s();\n  const [currentTotal, setCurrentTotal] = useState(0);\n  const [currentUserVote, setCurrentUserVote] = useState(null);\n  function handleVoteClick(direction) {\n    if (direction === currentUserVote) {\n      setCurrentUserVote(null);\n      setCurrentTotal(direction === 1 ? total - 1 : total + 1);\n    } else {\n      setCurrentUserVote(direction);\n      setCurrentTotal(total + direction - currentUserVote);\n    }\n    const directionName = direction === 1 ? 'up' : 'down';\n    axios.post('http://localhost:3030/vote/' + directionName + '/' + props.postId, {}, {\n      withCredentials: true\n    }).then(response => {\n      setCurrentTotal(response.data);\n    });\n  }\n  const total = currentTotal || props.initialTotal || 0;\n  const userVote = currentUserVote === null ? props.initialUserVote : currentUserVote;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ...props,\n    children: [/*#__PURE__*/_jsxDEV(ArrowButton, {\n      onClick: () => handleVoteClick(1),\n      children: /*#__PURE__*/_jsxDEV(ArrowUp, {\n        size: props.size,\n        uservote: userVote\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Total, {\n      size: props.size,\n      children: total\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ArrowButton, {\n      onClick: () => handleVoteClick(-1),\n      children: /*#__PURE__*/_jsxDEV(ArrowBottom, {\n        size: props.size,\n        uservote: userVote\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 5\n  }, this);\n}\n_s(VotingButtons, \"w/pkU0jkH21RsH/XgeTP5ARrmS4=\");\n_c5 = VotingButtons;\nVotingButtons.propTypes = {\n  initialTotal: PropTypes.number.isRequired,\n  initialUserVote: PropTypes.number,\n  postId: PropTypes.number.isRequired\n};\nexport default VotingButtons;\nvar _c, _c2, _c3, _c4, _c5;\n$RefreshReg$(_c, \"ArrowUp\");\n$RefreshReg$(_c2, \"ArrowBottom\");\n$RefreshReg$(_c3, \"ArrowButton\");\n$RefreshReg$(_c4, \"Total\");\n$RefreshReg$(_c5, \"VotingButtons\");","map":{"version":3,"names":["styled","PropTypes","axios","useState","ArrowUp","div","props","size","uservote","ArrowBottom","ArrowButton","button","Total","VotingButtons","currentTotal","setCurrentTotal","currentUserVote","setCurrentUserVote","handleVoteClick","direction","total","directionName","post","postId","withCredentials","then","response","data","initialTotal","userVote","initialUserVote","propTypes","number","isRequired"],"sources":["/home/trojann/Documents/Jitu-projects/stackTrial/stacktrial/Frontend/src/Components/Button/VotingButtons.js"],"sourcesContent":["import styled from 'styled-components';\nimport PropTypes from 'prop-types';\nimport axios from \"axios\";\nimport {useState} from 'react';\n\nconst ArrowUp = styled.div`\n  width: 0;\n  height: 0;\n  border-left: ${props => props.size === 'sm' ? '10px' : '20px'} solid transparent;\n  border-right: ${props => props.size === 'sm' ? '10px' : '20px'} solid transparent;\n  border-bottom: ${props => props.size === 'sm' ? '10px' : '20px'} solid ${props => props.uservote===1 ? '#f48024' : '#888'};\n`;\nconst ArrowBottom = styled.div`\n  width: 0;\n  height: 0;\n  border-left: ${props => props.size === 'sm' ? '10px' : '20px'} solid transparent;\n  border-right: ${props => props.size === 'sm' ? '10px' : '20px'} solid transparent;\n  border-top: ${props => props.size === 'sm' ? '10px' : '20px'} solid ${props => props.uservote===-1 ? '#f48024' : '#888'};\n  padding:0;\n`;\nconst ArrowButton = styled.button`\n  border:0;\n  background:none;\n  font-size: 2rem;\n  cursor: pointer;\n  text-align: center;\n  padding:0;\n`;\nconst Total = styled.div`\n  text-align: center;\n  width: ${props => props.size === 'sm' ? '20px' : '40px'};\n  padding: ${props => props.size === 'sm' ? '2px 0 3px' : '7px 0 7px'};\n  font-size: ${props => props.size === 'sm' ? '.8rem' : '1.4rem'};\n  line-height: ${props => props.size === 'sm' ? '.6rem' : '1.4rem'};\n  color: #888;\n`;\n\nfunction VotingButtons(props) {\n  const [currentTotal,setCurrentTotal] = useState(0);\n  const [currentUserVote,setCurrentUserVote] = useState(null);\n  function handleVoteClick(direction) {\n    if (direction === currentUserVote) {\n      setCurrentUserVote(null);\n      setCurrentTotal( direction===1 ? total-1 : total+1 );\n    } else {\n      setCurrentUserVote(direction);\n      setCurrentTotal(total + direction - currentUserVote);\n    }\n    const directionName = direction === 1 ? 'up' : 'down';\n    axios.post('http://localhost:3030/vote/'+directionName+'/'+props.postId, {}, {withCredentials:true})\n      .then(response => {\n        setCurrentTotal(response.data);\n      });\n  }\n  const total = currentTotal || props.initialTotal || 0;\n  const userVote = currentUserVote === null ? props.initialUserVote : currentUserVote;\n  return (\n    <div {...props}>\n      <ArrowButton onClick={() => handleVoteClick(1)}>\n        <ArrowUp size={props.size} uservote={userVote} />\n      </ArrowButton>\n      <Total size={props.size}>{total}</Total>\n      <ArrowButton onClick={() => handleVoteClick(-1)}>\n        <ArrowBottom size={props.size} uservote={userVote} />\n      </ArrowButton>\n    </div>\n  );\n}\n\nVotingButtons.propTypes = {\n  initialTotal: PropTypes.number.isRequired,\n  initialUserVote: PropTypes.number,\n  postId: PropTypes.number.isRequired,\n};\n\nexport default VotingButtons;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}